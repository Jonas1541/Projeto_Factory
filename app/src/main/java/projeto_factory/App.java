/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package projeto_factory;
import java.sql.SQLException;

public class App {
    public static void main(String[] args) {

        // Instanciar a fabrica de cursos
        CursoFactory factory = new CursoFactory();

        // A fabrica devolve o tipo de curso baseado no parâmetro (tecnico, bacharelado
        // ou mestrado)
        // Se nenhum desses parâmetros foi passado, ela retorna null automaticamente
        iCurso curso = factory.getCurso("bacharelado");

        // Crie instâncias de estudantes
        Estudante estudante = new Estudante("Testador");

        // Suponha que as disciplinas e o método addDisciplina sejam implementados corretamente
        Disciplina matematica = new Disciplina("Matematica", "5.0", "Tecnico");
        Disciplina historia = new Disciplina("Historia", "8.0", "Bacharelado");

        estudante.addDisciplina(matematica);
        estudante.addDisciplina(historia);

        // Avaliação de estudantes
        if (curso != null) {
            System.out.println(curso.Avaliacao(estudante));
        }

        // Armazenamento de estudantes no MongoDB
        try {
            DBFactory.Armazenar("MongoDB", estudante);
        } catch (SQLException e) {
            e.printStackTrace();
        }

        // Armazenamento de estudantes no MySQL
        try {
            DBFactory.Armazenar("MySQL", estudante);
        } catch (SQLException e) {
            e.printStackTrace();
        }

        // Exibir estudantes do MongoDB
        try {
            DBFactory.ExibirEstudantes("MongoDB");
        } catch (SQLException e) {
            e.printStackTrace();
        }

        // Exibir estudantes do MySQL
        try {
            DBFactory.ExibirEstudantes("MySQL");
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}
